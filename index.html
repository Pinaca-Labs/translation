

<!DOCTYPE html>
<html>
<head>
  <title>Pinaca Translation</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>


  <style>

    #footer {
       position:absolute;
       bottom:0;
       width:100%;
       height:22px;   /* Height of the footer */
       background:#F4AD21;
       text-align: center;
    }
    
      #resultJSON:empty {display: none}
      pre{
        color: black;
      }
    
      .btn-primary{
        color: #9B0A1B !important;
        background-color: #F4AD21 !important;
      }
    
      .btn-primary:hover{
        background-color: #F4AD21 !important;
      }
    
      #loader {
        z-index:1000;
        border: 5px solid #f3f3f3;
        border-radius: 50%;
        border-top: 5px solid #1e93e0;
        width: 40px;
        height: 40px;
        position: absolute;
        top: 20%;
        left: 50%;
        -webkit-animation: spin 1s linear infinite;
        /* Safari */
        animation: spin 1s linear infinite;
      }
    
      /* Safari */
    
      @-webkit-keyframes spin {
        0% {
          -webkit-transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
        }
      }
    
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
    
    
    <script>
      function parseQuery(e) {
        text_query = $('#queryInput').val();
        var dropdown_val = $('#menu1').val();
    
        if(dropdown_val == "" || (/[a-zA-Z]/.test(text_query) == false)){
          $(".errorlist").css("display","block");
          $('#loader').hide();
          setTimeout(fade_out, 2000);
            function fade_out() {
            $(".errorlist").fadeOut();
          }
          return;
        }
    
        query = text_query.split("~")
        $('#loader').show();
    
        let payload = {
          data: query,
        };
        const headers = {
          'Content-Type': 'application/json',
        }
        if(dropdown_val == "English - Telugu"){
            url = 'https://translation-api.pinacalabs.com/en_te/async'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "English - Tamil"){
            url = 'http://127.0.0.1:8080/async1'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "English - Malayalam"){
            url = 'http://127.0.0.1:8080/async2'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "English - Kannada"){
            url = 'http://127.0.0.1:8080/async3'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "English - Marathi"){
            url = 'http://127.0.0.1:8080/async4'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "English - Hindi"){
            url = 'http://127.0.0.1:8080/async5'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "English - Bengali"){
            url = 'http://127.0.0.1:8080/async6'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "English - Punjabi"){
            url = 'http://127.0.0.1:8080/async7'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "English - Gujarati"){
            url = 'http://127.0.0.1:8080/async8'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "Chinese - English"){
            url = 'http://127.0.0.1:8080/async9'
            dropdown_change_call(url, payload, headers);
        }
        else if(dropdown_val == "Tamil - English"){
            url = 'http://127.0.0.1:8080/async10'
            dropdown_change_call(url, payload, headers);
        }
      }
    
      function dropdown_change_call(url, payload, header){
        axios.post(url, payload,{headers: header})
        .then((response) => {
            if (response.data) {
                let res_payload = {
                unique_id: response.data.unique_id
                };
                result_call(res_payload, header)
            }
        })
      .catch((err) => {
        $('#loader').hide();
        })
    }
    
      function result_call(payload, head){
      var inter = setInterval(()=>{
        axios.post('https://translation-api.pinacalabs.com/en_te/result', payload,{headers: head})
        .then((response) => {
          if (response.data.success) {
            processResponse(response.data.prediction)
            clearInterval(inter);
          }
        })
      },1000)
      }
        function processResponse(data) {
          var resd = JSON.stringify(data, undefined, 2);
          if(resd != undefined){
            var tes = JSON.parse(resd);
          $('#loader').hide();
          $("#trans_head").css("display","block");
          $('#resultJSON').html(tes[0]);
          }
          
        }
    
        window.onload = function() {
            $('#loader').hide();
        };
    
        $(function(){
          $(".dropdown-menu li a").click(function(){
            $(".btn:first-child").text($(this).text());
            $(".btn:first-child").val($(this).text());
          });
      });
    
      window.onload = function afterPageLoad(){
        $('#loader').hide();
        var textAreas = document.getElementsByTagName('textarea');
    
    Array.prototype.forEach.call(textAreas, function(elem) {
        elem.placeholder = elem.placeholder.replace(/\\n/g, '\n');
    });
    
      }
    
    </script>
    
    
    <div style="width: 60%; text-align:center; position: absolute; left: 20%; top: 10%;">
      <img style="height: auto; width: 50%;" src="https://github.com/Pinaca-Labs/translation/blob/main/Pinaca_Lab_Final-01.png" id="img1" >
      <h3 style="color: maroon;">Text to Text Language Translation Platform</h3>
        <div>
          <h4 class="errorlist" style="display: none; color: red; text-align: center;">Please give input and select Language</h4>
            <textarea style="top:20px" rows="4" type="textarea" class="form-control" id="queryInput" placeholder="1. Type/Paste your Text \n2.Choose Language to translate from below menu \n3.Click Translate"></textarea>
            
            <div id="dropDownDiv" class="dropdown" style="top:10px; position: relative; float: left;" >
                <button class="btn btn-primary dropdown-toggle" id="menu1" type="button" data-toggle="dropdown">Select Language
                <span class="caret"></span></button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Telugu</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Tamil</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Malayalam</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Kannada</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Marathi</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Hindi</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Bengali</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Punjabi</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">English - Gujarati</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Chinese - English</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Tamil - English</a></li>
                </ul>
    
                <button class="btn btn-primary" type="button" onclick="parseQuery()">Translate</button>
            </div>
            
            <div class="col-sm-12" style="top:30px; position: relative;"> 
              <p id="trans_head" style="color: black; display: none;">Translated Text: </p>
              <pre id='resultJSON'></pre> </div>
    
        </div>
    
        <div style="top:1%; position: relative;" id="loader"></div>
    
    </div>
    
    <div id="footer">
      <p>For Sales/Enquiries for SaaS API use or customised on-premises deployment of the solution please reach out to sales@pinacalabs.com</p>
    </div>
    </body>
    </html> 
